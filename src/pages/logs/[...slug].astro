---
import { getEntry, render } from "astro:content";
import BaseLayout from "@/layouts/BaseLayout.astro";
import { date } from "astro:schema";
import LogLayout from "@/layouts/LogLayout.astro";

const { slug } = Astro.params;
if (!slug) {
    throw new Error("Missing slug");
}

const log = await getEntry("logs", slug);
if (!log) {
    throw new Error(`Log not found for slug: ${slug}`);
}

const { Content, headings } = await render(log);
---

<BaseLayout>
    <LogLayout log={log}>
        <Content />
    </LogLayout>
</BaseLayout>
